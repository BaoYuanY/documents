---
title: Manticore Search
titleTemplate: 请先阅读
outline: 'deep'
---


# 请先阅读

## 关于本手册
该手册的安排反映了您最有可能使用Manticore的方式

- 从基本信息开始，包括如何安装和连接
- 添加文档和运行搜索等重要事项
- 性能优化技巧、诀窍以及通过插件和自定义函数扩展Manticore的方法

## 最佳实践
关于Manticore Search，有几件事情你需要了解，这些可以帮助你遵循最佳实践来使用它。

#### 1. 实时表 vs 普通表
实时表允许添加、更新和删除文档，并立即生效更改。
普通表是一个主要是不可变的数据结构，也是实时表使用的基本元素。普通表存储一组文档，它们的共同字典和索引设置。一个实时表可以由多个普通表（块）组成，但除此之外，Manticore还提供了使用索引工具直接构建普通表的访问方式。当您的数据主要是不可变的时候，使用普通表是有意义的，因此您不需要一个实时表。

#### 2. 实时模式与普通模式
Manticore Search有两种模式：

- 实时模式（RT模式）。这是默认模式，允许以命令方式管理数据架构。
    - 允许使用SQL命令及其在非SQL客户端中的等效命令在线管理数据模式
    - 在配置文件中，您只需要定义与服务器相关的设置，包括data_dir
- 纯模式允许在配置文件中定义数据模式，即提供声明式的模式管理方式。它在以下三种情况下是有意义的：
    - 当你只处理简单的表格时
    - 或者当您的数据模式非常稳定且不需要复制（因为它仅在实时模式下可用）时
    - 当您需要使数据模式可移植（例如，为了更轻松地在新服务器上部署）

您不能同时使用这两种模式，需要通过在配置文件中指定data_dir来决定要遵循哪种模式（这是默认行为）。如果您不确定，我们建议您遵循RT模式，因为即使您需要一个普通表格，您也可以使用单独的普通表格配置构建它，并导入到您的主Manticore实例中。

实时表可以在实时模式和普通模式下使用。在实时模式下，使用 `CREATE TABLE` 命令定义实时表，而在普通模式下，它在配置文件中定义。只有在普通模式下才支持普通（离线）表。在实时模式下无法创建普通表，但可以将在普通模式下创建的现有普通表转换为实时表并导入到实时模式中。

#### 3. SQL vs JSON
Manticore提供多种方式和接口来管理您的模式和数据，但主要有两种：

- SQL。这是Manticore的本地语言，可以实现所有Manticore的功能。最佳实践是使用SQL来：
    - 管理您的模式并执行其他DBA例行程序，这是最简单的方法
    - 将您的查询设计为SQL，因为SQL比JSON DSL更接近自然语言，这在设计新东西时非常重要。您可以通过任何MySQL客户端或/sql使用Manticore SQL。
- JSON。大多数功能也可以通过JSON领域特定语言实现。当您将Manticore与应用程序集成时，这尤其有用，因为使用JSON可以比使用SQL更具编程性。最佳实践是首先通过SQL探索如何完成某个任务，然后使用JSON将其集成到应用程序中。